(function(e){function t(t){for(var n,r,c=t[0],l=t[1],i=t[2],d=0,f=[];d<c.length;d++)r=c[d],o[r]&&f.push(o[r][0]),o[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(f.length)f.shift()();return s.push.apply(s,i||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,c=1;c<a.length;c++){var l=a[c];0!==o[l]&&(n=!1)}n&&(s.splice(t--,1),e=r(r.s=a[0]))}return e}var n={},o={app:0},s=[];function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var i=0;i<c.length;i++)t(c[i]);var u=l;s.push([0,"vendors~element-ui","vendors~app"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var n=a("64a9"),o=a.n(n);o.a},"10da":function(e,t,a){},"4db4":function(e,t,a){"use strict";var n=a("10da"),o=a.n(n);o.a},"4ee2":function(e,t,a){},"4f4c":function(e,t,a){"use strict";var n=a("a654"),o=a.n(n);o.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),o=(a("4ee2"),a("5c96")),s=a.n(o),r=(a("0fae"),a("8f94")),c=a.n(r),l=(a("31c5"),a("a7be"),a("7a7a"),a("9b74"),a("f6b6"),a("92f1"),a("3c98"),a("111b"),a("d2de"),a("f9d4"),a("7b00"),a("d69f"),a("10b2"),a("8c33"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("Headbar"),a("div",{staticClass:"main-wrap"},[a("Codepen"),a("div",{staticClass:"resizer"}),a("Output")],1)],1)}),i=[],u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"headbar"},[a("article",{staticClass:"vendors-wrap"},[a("span",{staticClass:"label"},[e._v("第三方依赖:")]),a("el-select",{attrs:{multiple:"","allow-create":"","default-first-option":"",placeholder:"请选择第三方依赖"},on:{change:e.changeVendors},model:{value:e.currentCaseInfo.vendors,callback:function(t){e.$set(e.currentCaseInfo,"vendors",t)},expression:"currentCaseInfo.vendors"}},e._l(e.vendorsList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("span",{staticClass:"name"},[e._v(e._s(e.currentCaseInfo.caseName))]),a("div",{staticClass:"btn-wrap"},[a("button",{staticClass:"btn run",on:{click:function(t){return e.showDialog("new")}}},[e._v("新建")]),a("button",{staticClass:"btn save",on:{click:function(t){return e.showDialog("save")}}},[e._v("保存")]),a("el-select",{attrs:{filterable:"",clearable:!0,placeholder:"请选择保存的方案","popper-class":"case-list"},on:{clear:e.clearSeletedCase,change:e.switchCase},model:{value:e.currentCaseInfo.caseId,callback:function(t){e.$set(e.currentCaseInfo,"caseId",t)},expression:"currentCaseInfo.caseId"}},e._l(e.caseList,function(e,t){return a("el-option",{key:t,attrs:{label:e.caseName,value:e.caseId}})}),1)],1),a("el-dialog",{attrs:{title:"添加/更新方案信息",visible:e.dialogTableVisible,width:"600px","custom-class":"info-dialog"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("el-form",{attrs:{model:e.tempCaseInfo,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"方案名称"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.tempCaseInfo.caseName,callback:function(t){e.$set(e.tempCaseInfo,"caseName",t)},expression:"tempCaseInfo.caseName"}})],1),a("el-form-item",{attrs:{label:"所属项目名称"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.tempCaseInfo.projectName,callback:function(t){e.$set(e.tempCaseInfo,"projectName",t)},expression:"tempCaseInfo.projectName"}})],1),a("el-form-item",{attrs:{label:"方案类型"}},[a("el-select",{attrs:{placeholder:"请选择类型",filterable:"",clearable:!0},model:{value:e.tempCaseInfo.type,callback:function(t){e.$set(e.tempCaseInfo,"type",t)},expression:"tempCaseInfo.type"}},e._l(e.typeList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",rows:"3",resize:"none"},model:{value:e.tempCaseInfo.remarks,callback:function(t){e.$set(e.tempCaseInfo,"remarks",t)},expression:"tempCaseInfo.remarks"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogTableVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)],1)],1)},d=[],f=a("768b"),m=(a("ac4d"),a("8a81"),a("ac6a"),a("96cf"),a("3b8d")),p=a("cebc"),h=new n["default"],v=[{label:"其他",value:"others"},{label:"自定义图表",value:"custom"},{label:"折线图",value:"line"},{label:"柱状图",value:"bar"},{label:"饼图",value:"pie"},{label:"散点图",value:"scatter"},{label:"地图",value:"map"},{label:"雷达图",value:"radar"},{label:"树图",value:"tree"},{label:"矩形树图",value:"treeMap"},{label:"旭日图",value:"sunburst"},{label:"盒须图",value:"boxplot"},{label:"K线图",value:"candlestick"},{label:"热力图",value:"heatmap"},{label:"关系图",value:"graph"},{label:"路径图",value:"lines"},{label:"桑基图",value:"sankey"},{label:"漏斗图",value:"funnel"},{label:"仪表盘",value:"gauge"},{label:"象形柱图",value:"pictorialBar"},{label:"主题河流图",value:"themeRiver"},{label:"日历图",value:"calendar"},{label:"数据集",value:"dataset"},{label:"富文本",value:"richText"},{label:"3D",value:"3D"},{label:"GL",value:"GL"}],b=a("5118"),C=a("951f"),I=a.n(C),j={name:"headbar",data:function(){return{vendorsList:[{label:"JQuery",value:"//cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"},{label:"Echarts",value:"//cdnjs.cloudflare.com/ajax/libs/echarts/4.2.1/echarts.min.js"},{label:"D3",value:"//cdnjs.cloudflare.com/ajax/libs/d3/5.9.2/d3.min.js"}],typeList:[],currentCaseInfo:{caseId:"",caseName:"",vendors:[],type:"",img:"",author:"",projectName:"",remarks:""},tempCaseInfo:{caseId:"",caseName:"",vendors:[],type:"",img:"",author:"",projectName:"",remarks:""},caseList:[],dialogTableVisible:!1,operateFlag:""}},computed:{currentCaseCode:function(){return this.$store.state.caseInfo.code},currentCaseName:function(){return this.$store.state.caseInfo.caseName}},methods:{showDialog:function(e){"new"===e?this.tempCaseInfo={caseId:"",caseName:"",vendors:[],type:"",img:"",author:"",projectName:"",remarks:""}:"save"===e&&(this.tempCaseInfo=Object(p["a"])({},this.tempCaseInfo,this.currentCaseInfo)),this.dialogTableVisible=!0,this.operateFlag=e},confirm:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.dialogTableVisible=!1,this.currentCaseInfo=Object(p["a"])({},this.currentCaseInfo,this.tempCaseInfo),"new"!==this.operateFlag){e.next=6;break}this.newCase(),e.next=11;break;case 6:if("save"!==this.operateFlag){e.next=10;break}Object(b["setTimeout"])(function(){t.saveImage().then(function(e){var a=e.toDataURL();t.currentCaseInfo.img=a,t.saveCase()})},1e3),e.next=11;break;case 10:return e.abrupt("return");case 11:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),newCase:function(){this.$store.commit("newCase",this.currentCaseInfo),h.$emit("update-code")},saveCase:function(){if(this.$store.commit("updateCaseInfo",this.currentCaseInfo),this.currentCaseInfo.caseId)this.updateCase(this.currentCaseInfo.caseId);else{this.currentCaseInfo.caseId=100*Math.round(Math.random())+(new Date).getTime()+"";var e=Object(p["a"])({},this.currentCaseInfo,{code:Object(p["a"])({},this.currentCaseCode)});this.caseList.push(e),localStorage.setItem("caseList",JSON.stringify(this.caseList))}},updateCase:function(e){var t=this,a=Object(p["a"])({},t.currentCaseInfo,{code:Object(p["a"])({},t.currentCaseCode)}),n=!0,o=!1,s=void 0;try{for(var r,c=t.caseList.entries()[Symbol.iterator]();!(n=(r=c.next()).done);n=!0){var l=Object(f["a"])(r.value,2),i=l[0],u=l[1];if(e===u.caseId){t.caseList[i]=Object(p["a"])({},u,a);break}}}catch(d){o=!0,s=d}finally{try{n||null==c.return||c.return()}finally{if(o)throw s}}localStorage.setItem("caseList",JSON.stringify(t.caseList))},delCase:function(e){},clearSeletedCase:function(){this.tempCaseInfo={caseId:"",caseName:"",vendors:[],type:"",img:"",author:"",projectName:"",remarks:""},this.currentCaseInfo=Object(p["a"])({},this.currentCaseInfo,this.tempCaseInfo),this.$store.commit("newCase",this.currentCaseInfo),h.$emit("update-code")},switchCase:function(e){var t=this,a=!0,n=!1,o=void 0;try{for(var s,r=t.caseList[Symbol.iterator]();!(a=(s=r.next()).done);a=!0){var c=s.value;if(e===c.caseId){t.currentCaseInfo=Object(p["a"])({},t.currentCaseInfo,c),delete t.currentCaseInfo.code,t.$store.commit("updateCaseInfo",c);break}}}catch(l){n=!0,o=l}finally{try{a||null==r.return||r.return()}finally{if(n)throw o}}h.$emit("update-code")},changeVendors:function(){this.$store.commit("updateCaseInfo",this.currentCaseInfo)},getCaseList:function(){var e=localStorage.getItem("caseList");this.caseList=e?JSON.parse(e):[]},saveImage:function(){var e=document.querySelector(".output-wrap");return I()(e,{logging:!1})}},mounted:function(){this.getCaseList(),this.typeList=v}},g=j,y=(a("4f4c"),a("2877")),w=Object(y["a"])(g,u,d,!1,null,null,null),x=w.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"code-pen-wrap"},[a("ht-pen"),a("js-pen"),a("css-pen"),a("data-pen")],1)},$=[],_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("article",{staticClass:"code-pen"},[a("p",{staticClass:"label"},[e._v("HTML")]),a("codemirror",{ref:"htmlpen",attrs:{options:{mode:"text/html"}},on:{ready:e.onCmReady,focus:e.onCmFocus,input:e.onCmCodeChange},model:{value:e.html,callback:function(t){e.html=t},expression:"html"}})],1)},k=[],S={name:"htmlPen",data:function(){return{html:"",timer:null,interval:3e3}},computed:{codemirror:function(){return this.$refs.htmlpen.codemirror}},methods:{onCmReady:function(e){},onCmFocus:function(e){},onCmCodeChange:function(e){var t=this;t.timer&&Object(b["clearTimeout"])(t.timer),t.timer=Object(b["setTimeout"])(function(){t.$store.commit("updateCode",{html:e})},t.interval)}},mounted:function(){var e=this;h.$on("update-code",function(){e.html=e.$store.state.caseInfo.code.html})},watch:{}},L=S,N=Object(y["a"])(L,_,k,!1,null,null,null),T=N.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("article",{staticClass:"code-pen"},[a("p",{staticClass:"label"},[e._v("JavaScript")]),a("codemirror",{ref:"jspen",attrs:{options:{mode:"text/javascript"}},on:{input:e.onCmCodeChange},model:{value:e.js,callback:function(t){e.js=t},expression:"js"}})],1)},P=[],D={name:"jsPen",data:function(){return{js:"",timer:null,interval:3e3}},methods:{onCmCodeChange:function(e){var t=this;t.timer&&Object(b["clearTimeout"])(t.timer),t.timer=Object(b["setTimeout"])(function(){t.$store.commit("updateCode",{js:e})},t.interval)}},mounted:function(){var e=this;h.$on("update-code",function(){e.js=e.$store.state.caseInfo.code.js})}},J=D,M=Object(y["a"])(J,E,P,!1,null,null,null),V=M.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("article",{staticClass:"code-pen"},[a("p",{staticClass:"label"},[e._v("CSS")]),a("codemirror",{ref:"csspen",attrs:{options:{mode:"text/css"}},on:{input:e.onCmCodeChange},model:{value:e.css,callback:function(t){e.css=t},expression:"css"}})],1)},F=[],R={name:"cssPen",data:function(){return{css:"",timer:null,interval:3e3}},methods:{onCmCodeChange:function(e){var t=this;t.timer&&Object(b["clearTimeout"])(t.timer),t.timer=Object(b["setTimeout"])(function(){t.$store.commit("updateCode",{css:e})},t.interval)}},mounted:function(){var e=this;h.$on("update-code",function(){e.css=e.$store.state.caseInfo.code.css})}},q=R,B=Object(y["a"])(q,z,F,!1,null,null,null),W=B.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("article",{staticClass:"code-pen"},[a("p",{staticClass:"label"},[e._v("Data")]),a("codemirror",{ref:"datapen",attrs:{options:{mode:"application/json"}},on:{input:e.onCmCodeChange},model:{value:e.dataSource,callback:function(t){e.dataSource=t},expression:"dataSource"}},[e._v(">")])],1)},H=[],G={name:"dataPen",data:function(){return{dataSource:"",timer:null,interval:3e3}},methods:{onCmCodeChange:function(e){var t=this;t.timer&&Object(b["clearTimeout"])(t.timer),t.timer=Object(b["setTimeout"])(function(){t.$store.commit("updateCode",{dataSource:e})},t.interval)}},mounted:function(){var e=this;h.$on("update-code",function(){e.dataSource=e.$store.state.caseInfo.code.dataSource})}},K=G,Y=Object(y["a"])(K,A,H,!1,null,null,null),Q=Y.exports,U={name:"codePen",components:{"ht-pen":T,JsPen:V,CssPen:W,DataPen:Q}},X=U,Z=(a("5aee"),Object(y["a"])(X,O,$,!1,null,null,null)),ee=Z.exports,te=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ae=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"output-wrap"},[a("iframe",{staticClass:"scan",attrs:{id:"scan",name:"scan",src:"",frameborder:"0",width:"100%",height:"100%",scrolling:"no"}})])}],ne=(a("a481"),{name:"outPut",data:function(){return{}},computed:{sourceCode:function(){return this.$store.state.caseInfo.code},finalJS:function(){var e=this.$store.state.caseInfo.code.js,t=this.$store.state.caseInfo.code.dataSource;return t?e.replace("MY_DATA",t):e},vendors:function(){return this.$store.state.caseInfo.vendors}},methods:{updateDom:function(e){var t=document.getElementById("scan"),a=this.sourceCode.css?"<style> ".concat(this.sourceCode.css," </style>"):"",n=this.sourceCode.html,o=this.vendors.map(function(e){return"<script src='".concat(e,"'><\/script>")}).join("\n"),s=this.finalJS?"<script> ".concat(this.finalJS," <\/script>"):"",r="".concat(o," \n ").concat(s),c="<!DOCTYPE html><html><head>".concat(a,"</head><body>").concat(n," \n ").concat(r,"</body></html>");t.contentWindow.document.open(),t.contentWindow.document.write(c),t.contentWindow.document.close()}},mounted:function(){},watch:{sourceCode:{deep:!0,handler:function(e){this.updateDom(e)}}}}),oe=ne,se=(a("4db4"),Object(y["a"])(oe,te,ae,!1,null,null,null)),re=se.exports,ce={name:"app",components:{Headbar:x,Codepen:ee,Output:re},methods:{mouseDown:function(){document.addEventListener("mousemove",this.resize)},resize:function(){if(console.log("x",event.x),!(event.x<200||event.x>800)){var e=document.querySelector(".code-pen-wrap");e.style.width="".concat(event.x," px")}}},mounted:function(){var e=this;document.addEventListener("mouseup",function(){document.removeEventListener("mousemove",e.resize)}),window.frames["scan"].document.addEventListener("mouseup",function(){document.removeEventListener("mousemove",e.resize)})}},le=ce,ie=(a("034f"),Object(y["a"])(le,l,i,!1,null,null,null)),ue=ie.exports,de=a("2f62");n["default"].use(de["a"]);var fe={caseId:"",caseName:"",code:{html:"",js:"",css:"",dataSource:""},vendors:[],type:"",img:"",author:"",projectName:"",remarks:""},me=new de["a"].Store({state:{caseInfo:{caseId:"",caseName:"",code:{html:"",js:"",css:"",dataSource:""},vendors:[],type:"",img:"",author:"",projectName:"",remarks:""}},mutations:{newCase:function(e,t){e.caseInfo=Object(p["a"])({},fe,t)},updateCode:function(e,t){e.caseInfo.code=Object(p["a"])({},e.caseInfo.code,t)},updateCaseInfo:function(e,t){e.caseInfo=Object(p["a"])({},e.caseInfo,t)}},actions:{}}),pe=me,he=a("bc3a"),ve=a.n(he);n["default"].config.productionTip=!1,n["default"].prototype.$axios=ve.a,n["default"].use(s.a),n["default"].use(c.a,{options:{tabSize:2,styleActiveLine:!1,lineNumbers:!0,line:!0,theme:"monokai",foldgutter:!0,autocorrect:!0,lineWrapping:!0,matchBrackets:!0,extraKeys:{Tab:"autocomplete"},autoCloseBrackets:!0}}),new n["default"]({render:function(e){return e(ue)},store:pe}).$mount("#app")},"5aee":function(e,t,a){"use strict";var n=a("c199"),o=a.n(n);o.a},"64a9":function(e,t,a){},a654:function(e,t,a){},c199:function(e,t,a){}});